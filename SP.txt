DECLARE @FromDate date = '2025-11-20';
DECLARE @ToDate   date = '2025-11-26';

SELECT 
    UserCode,
    CAST(LoginDateTime AS date) AS LoginDate,
    MAX(LoginDateTime) AS LastLoginThatDay
FROM UserLoginInfos
WHERE LoginDateTime >= @FromDate
  AND LoginDateTime < DATEADD(DAY, 1, @ToDate)
GROUP BY 
    UserCode,
    CAST(LoginDateTime AS date);
